<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload=function(){
            var oBtns=document.getElementsByTagName("button");

            //点按钮的时候，循环已经结束了
            /* for(var i=0; i<oBtns.length; i++){
                oBtns[i].onclick=function(){
                    alert(i);
                }
            } */

            /*
                this概念：只要封装函数，任何一个函数系统都会内置一个叫做this的变量
                    this变量存储的是地址，是当前函数主人的地址

                    【注】this永远指向当前函数的主人，函数的主人要通过当前上下文去判断
            */

            // 常用情况
            /* var person={
                username:"钢铁侠",
                sex:"男",
                show:function(){
                    alert(person.username);
                    alert(this.username);
                }
            } */
            // person.show();
            
            // 全局函数没有主人，默认window对象为主人
            /* function show(){
                alert(this);
            }
            show();
            window.show(); */

            /* var oBtn=document.getElementById("btn1");
            oBtn.onclick=function(){
                alert(this);
            } */

            /*
                点击按钮，输出当前按钮的下标
            */

            for(var i=0; i<oBtns.length; i++){
                // 给每一个按钮添加一个自定义属性
                oBtns[i].index=i;
                // 给每一个button添加一个onclick
                // this指向不同的button
                oBtns[i].onclick=function(){
                    alert(this.index);
                }
            }
            alert(i);
        }
    </script>
</head>
<body>
    <button id="btn1">按钮1</button>
    <!-- index=0 onclick=func -->
    <button>按钮2</button>
    <!-- index=1 onclick=func -->
    <button>按钮3</button>
    <!-- index=2 onclick=func -->
</body>
</html>